<!DOCTYPE html>
<html>
<head>
    <title></title>

    <style type="text/css">
        html { height: 100% }
        body { height: 100%; margin: 0; padding: 0 }
        #map_canvas { height: 100% }
    </style>

    <script type="text/javascript"
            src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDkj6mIaKSKLxhcGTFFl9Uo8EPJLCMTsVc&sensor=false">
    </script>
    <script type="text/javascript">
        function initialize() {
            var mapOptions = {
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

            var whistlerCoordinates = [
                {% for lat, long in ride_stream.latlng %}
                    new google.maps.LatLng({{ lat }}, {{ long }}),
                {% endfor %}
            ];

            var latLongBounds = new google.maps.LatLngBounds();
            for (var i = 0; i < whistlerCoordinates.length; ++i) {
                var c = whistlerCoordinates[i];
                latLongBounds.extend(c);
            }

            map.fitBounds(latLongBounds);

            var whistlerPath = new google.maps.Polyline({
                path: whistlerCoordinates,
                strokeColor: "#FF0000",
                strokeOpacity: 0.7,
                strokeWeight: 2
            });

            whistlerPath.setMap(map);
        }
    </script>
</head>
<body onload="initialize();">
    <div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>